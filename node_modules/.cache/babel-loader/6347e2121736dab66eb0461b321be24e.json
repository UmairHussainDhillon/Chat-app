{"ast":null,"code":"var _jsxFileName = \"F:\\\\Chat-App\\\\chat-app\\\\src\\\\components\\\\dashboard.js\";\nimport React from \"react\";\nimport \"./Dashboard.css\";\nimport io from 'socket.io-client';\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nconst ENDPOINT = \"http://localhost:4000\";\nvar reciever;\n\nfunction ApiData() {\n  const [response, setResponse] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [users, setUsers] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [chat, setChat] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/users\", {}).then(response => {\n      setUsers(response.data);\n      console.log(response.data);\n    }).catch(err => {\n      // THROW INSERTING USER ERROR'S\n      if (err) {\n        console.log(err);\n      }\n    });\n    axios.get(\"http://localhost:4000/messages\", {}).then(response => {\n      setChat(response.data);\n      console.log(response.data);\n    }).catch(err => {\n      // THROW INSERTING USER ERROR'S\n      if (err) {\n        console.log(err);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    const socket = io(ENDPOINT);\n    socket.on(\"FromAPI\", data => {\n      console.log('Data from api');\n      setResponse(data);\n    });\n    socket.on(\"new_message\", function (data) {\n      setText(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 col-xl-3 chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mb-sm-3 mb-md-0 contacts_card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, \"Chat App\"))), /*#__PURE__*/React.createElement(List, {\n    list: users,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 col-xl-6 chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header msg_head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex bd-highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img_cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"User\",\n    src: \"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\",\n    className: \"rounded-circle user_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"online_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"  \", reciever), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }, \"Online\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video_cam\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"action_menu_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-ellipsis-v\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body msg_card_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-end mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MessageList, {\n    list: chat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 18\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text attach_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-paperclip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control type_msg\",\n    placeholder: \"Type your message...\",\n    defaultValue: \"\",\n    onChange: event => {\n      setMsg(event.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => {\n      var socket = io();\n      socket.emit(\"send_message\", {\n        sender: \"Umair\",\n        receiver: reciever,\n        message: msg\n      });\n    },\n    className: \"input-group-text send_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-location-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }))))))))));\n}\n\nfunction List({\n  list\n}) {\n  if (!list) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body contacts_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ui\", {\n    className: \"contacts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }, list.map(item => /*#__PURE__*/React.createElement(Item, {\n    key: item.user_id,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }))));\n}\n\nfunction Item({\n  item\n}) {\n  return /*#__PURE__*/React.createElement(\"li\", {\n    id: item.user_id,\n    className: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex bd-highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img_cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"User\",\n    src: \"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\",\n    className: \"rounded-circle user_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"online_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: item.user_id,\n    onClick: onItemClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 26\n    }\n  }, \" \", item.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 27\n    }\n  }, \"online\"))));\n}\n\nfunction onItemClickHandler(event) {\n  reciever = event.currentTarget.innerHTML;\n  console.log(reciever);\n}\n\nfunction MessageList({\n  list\n}) {\n  if (!list) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-start mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 5\n    }\n  }, list.map(item => /*#__PURE__*/React.createElement(ChatMessage, {\n    key: item.message_id,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  })));\n}\n\nfunction ChatMessage({\n  item\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg_cotainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 6\n    }\n  }, \" \", item.message), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"msg_time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, \"8:40 AM, Today\")));\n}\n\nexport default ApiData;","map":{"version":3,"sources":["F:/Chat-App/chat-app/src/components/dashboard.js"],"names":["React","io","axios","useState","useEffect","ENDPOINT","reciever","ApiData","response","setResponse","msg","setMsg","users","setUsers","text","setText","chat","setChat","get","then","data","console","log","catch","err","socket","on","event","currentTarget","value","emit","sender","receiver","message","List","list","map","item","user_id","Item","onItemClickHandler","name","innerHTML","MessageList","message_id","ChatMessage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./Dashboard.css\";\r\nimport io  from 'socket.io-client';\r\nimport axios from \"axios\";\r\n\r\n\r\nimport  { useState, useEffect } from \"react\";\r\nconst ENDPOINT = \"http://localhost:4000\";\r\nvar reciever;\r\nfunction ApiData() {\r\n  const [response, setResponse] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [users, setUsers] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  const [chat, setChat] = useState(\"\");\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .get(\"http://localhost:4000/users\", {\r\n    })\r\n    .then((response) => {\r\n      setUsers(response.data)\r\n      console.log(response.data)      \r\n    }).catch(err => {\r\n      // THROW INSERTING USER ERROR'S\r\n      if (err){ \r\n     console.log(err)}\r\n\r\n  });\r\n  axios\r\n  .get(\"http://localhost:4000/messages\", {\r\n  })\r\n  .then((response) => {\r\n    setChat(response.data)\r\n    console.log(response.data)      \r\n  }).catch(err => {\r\n    // THROW INSERTING USER ERROR'S\r\n    if (err){ \r\n   console.log(err)}\r\n\r\n});\r\n  \r\n  }, []);\r\n  useEffect(() => {\r\n    const socket = io(ENDPOINT);\r\n    socket.on(\"FromAPI\", data => {\r\n      console.log('Data from api')\r\n      setResponse(data);\r\n    });\r\n    socket.on(\"new_message\", function (data) {\r\n      setText(data)\r\n    }); \r\n  }, []);\r\n   \r\n    return (\r\n      <div>\r\n        <div className=\"container-fluid h-100\">\r\n          <div className=\"row justify-content-center h-100\">\r\n                      {/* Starts Side Contacts */}\r\n            <div className=\"col-md-4 col-xl-3 chat\">\r\n              <div className=\"card mb-sm-3 mb-md-0 contacts_card\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"input-group\">\r\n                  <h1 >Chat App</h1>\r\n                  </div>\r\n                </div>\r\n                <List list={users} />\r\n\r\n                <div className=\"card-footer\" />\r\n              </div>\r\n            </div>\r\n            {/* Ends Side Contacts */}\r\n\r\n            {/* Starts Chat Contacts */}\r\n            <div className=\"col-md-8 col-xl-6 chat\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header msg_head\">\r\n                  <div className=\"d-flex bd-highlight\">\r\n                    <div className=\"img_cont\">\r\n                      <img\r\n                        alt=\"User\"\r\n                        src=\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\"\r\n                        className=\"rounded-circle user_img\"\r\n                      />\r\n                      <span className=\"online_icon\" />\r\n                    </div>\r\n                    <div className=\"user_info\">\r\n          <span>  {reciever}</span>\r\n                      <p>Online</p>\r\n                    </div>\r\n                    <div className=\"video_cam\">\r\n                      <span>\r\n                        <i className=\"fas fa-video\" />\r\n                      </span>\r\n                      <span>\r\n                        <i className=\"fas fa-phone\" />\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <span id=\"action_menu_btn\">\r\n                    <i className=\"fas fa-ellipsis-v\" />\r\n                  </span>\r\n                \r\n                </div>\r\n                <div className=\"card-body msg_card_body\">\r\n                 \r\n                  <div className=\"d-flex justify-content-end mb-4\">\r\n                 <MessageList list={chat} />\r\n                  </div>\r\n                  {/* Message Ends here */}\r\n                 \r\n                 </div>\r\n                <div className=\"card-footer\">\r\n                  <div className=\"input-group\">\r\n                    <div className=\"input-group-append\">\r\n                      <span className=\"input-group-text attach_btn\">\r\n                        <i className=\"fas fa-paperclip\" />\r\n                      </span>\r\n                    </div>\r\n                    <textarea \r\n                      className=\"form-control type_msg\"\r\n                      placeholder=\"Type your message...\"\r\n                      defaultValue={\"\"}\r\n                      onChange={(event)=>{\r\n                        setMsg(event.currentTarget.value)\r\n                      }}\r\n                    />\r\n                    <div className=\"input-group-append\">\r\n                      <button  onClick={(event)=>{\r\n                         var socket = io();\r\n                            socket.emit(\"send_message\", {\r\n                              sender: \"Umair\",\r\n                              receiver: reciever,\r\n                              message: msg\r\n\r\n                            });\r\n                          \r\n      \r\n                          \r\n                                              \r\n                          }\r\n                      \r\n                        }\r\n                       className=\"input-group-text send_btn\">\r\n                        <i className=\"fas fa-location-arrow\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\nfunction List({ list }) {\r\n  if (!list) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card-body contacts_body\">\r\n    <ui className=\"contacts\">\r\n        \r\n        {list.map((item) => (\r\n      <Item key={item.user_id} item={item} />\r\n        ))}\r\n      </ui>\r\n\r\n</div> \r\n  \r\n  );\r\n} \r\n\r\nfunction Item({ item }) {\r\n  return (\r\n       \r\n                    <li  id={item.user_id} className=\"active\" >\r\n                      <div className=\"d-flex bd-highlight\">\r\n                        <div className=\"img_cont\">\r\n                          <img\r\n                            alt=\"User\"\r\n                            src=\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\"\r\n                            className=\"rounded-circle user_img\"\r\n                          />\r\n                          <span className=\"online_icon\" />\r\n                        </div>\r\n                        <div className=\"user_info\">\r\n                         <span id={item.user_id} onClick={onItemClickHandler} > {item.name}</span>\r\n                          <p>online</p>\r\n                        </div>\r\n           \r\n                      </div>\r\n                    </li>\r\n                    \r\n                \r\n  );\r\n}\r\nfunction onItemClickHandler  (event) {\r\n  reciever=event.currentTarget.innerHTML;\r\n \r\n\r\n  console.log( reciever);\r\n \r\n}\r\n\r\nfunction MessageList({ list }) {\r\n  if (!list) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-start mb-4\">\r\n        \r\n        {list.map((item) => (\r\n      <ChatMessage key={item.message_id} item={item} />\r\n        ))}\r\n\r\n</div> \r\n  \r\n  );\r\n} \r\n\r\nfunction ChatMessage({ item }) {\r\n  return (\r\n      <div>\r\n    \r\n    <div className=\"msg_cotainer\">\r\n     <span> {item.message}</span>\r\n      <span className=\"msg_time\">8:40 AM, Today</span>\r\n    </div>\r\n    </div> \r\n                    \r\n                \r\n  );\r\n}\r\n\r\n  export default ApiData;\r\n\r\n"]},"metadata":{},"sourceType":"module"}