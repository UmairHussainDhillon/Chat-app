{"ast":null,"code":"var _jsxFileName = \"F:\\\\Chat-App\\\\chat-app\\\\src\\\\components\\\\Register.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport './styles.css';\nimport { Link } from \"react-router-dom\";\nimport swal from 'sweetalert';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleValidation = () => {\n      let errors = {};\n      let formIsValid = true; //Password\n\n      if (!this.state.password) {\n        formIsValid = false;\n        errors[\"password\"] = \"Cannot be empty\";\n      } //name\n\n\n      if (!this.state.name) {\n        formIsValid = false;\n        errors[\"name\"] = \"Cannot be empty\";\n      }\n\n      if (this.state.name && typeof this.state.name !== \"undefined\") {\n        let lastAtPos = this.state.name.lastIndexOf('@');\n        let lastDotPos = this.state.name.lastIndexOf('.');\n\n        if (!(lastAtPos < lastDotPos && lastAtPos > 0 && this.state.name.indexOf('@@') === -1 && lastDotPos > 2 && this.state.name.length - lastDotPos > 2)) {\n          formIsValid = false;\n          errors[\"name\"] = \"name is not valid\";\n        }\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    };\n\n    this.Register = e => {\n      e.preventDefault();\n\n      if (this.handleValidation()) {\n        Axios({\n          method: \"POST\",\n          data: {\n            name: this.state.name,\n            password: this.state.password\n          },\n          withCredentials: true,\n          url: \"http://localhost:4000/register\"\n        }).then(res => {\n          console.log(res);\n\n          if (res.status === 200) {\n            this.props.history.push(\"/login\");\n          } else {\n            swal(\"There is an error\");\n          }\n\n          this.setState({\n            data: res.data\n          }); // this.handleResponse();\n        });\n      } else {\n        swal(\"Oops!\", \"Form has errors.\");\n      }\n    };\n\n    this.state = {\n      password: \"\",\n      name: \"\",\n      errors: {},\n      data: \"\",\n      token: localStorage.getItem(\"token\")\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 35\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.value,\n      type: \"name\",\n      className: \"form-control\",\n      name: \"name\",\n      placeholder: \"Enter name\",\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, this.state.errors[\"name\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.value,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }, this.state.errors[\"password\"]))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"after\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sign-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Already have an Account?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.Register.bind(this),\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"Register\"))))));\n  }\n\n}\n;","map":{"version":3,"sources":["F:/Chat-App/chat-app/src/components/Register.js"],"names":["React","Component","Axios","Link","swal","Login","constructor","props","handleValidation","errors","formIsValid","state","password","name","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","setState","Register","e","preventDefault","method","data","withCredentials","url","then","res","console","log","status","history","push","token","localStorage","getItem","handleChange","bind","target","value","render","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Axios from 'axios'\r\nimport './styles.css'\r\n\r\nimport {\r\n     Link,\r\n} from \"react-router-dom\";\r\nimport swal from 'sweetalert';\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      password: \"\",\r\n      name: \"\",\r\n      errors: {},\r\n     data: \"\",\r\n     token:localStorage.getItem(\"token\"),\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n  };\r\n  handleChange(e){         \r\n    this.setState({ [e.target.name] : e.target.value });   \r\n}\r\n  \r\n handleValidation = () => {\r\n  let errors = {};\r\n  let formIsValid = true;\r\n //Password\r\n if(!this.state.password){\r\n  formIsValid = false;\r\n  errors[\"password\"] = \"Cannot be empty\";\r\n}\r\n\r\n\r\n  //name\r\n  if(!this.state.name){\r\n     formIsValid = false;\r\n     errors[\"name\"] = \"Cannot be empty\";\r\n  }\r\n\r\n  if(this.state.name && typeof this.state.name !== \"undefined\"){\r\n     let lastAtPos = this.state.name.lastIndexOf('@');\r\n     let lastDotPos = this.state.name.lastIndexOf('.');\r\n\r\n     if (!(lastAtPos < lastDotPos && lastAtPos > 0 && this.state.name.indexOf('@@') === -1 && lastDotPos > 2 && (this.state.name.length - lastDotPos) > 2)) {\r\n        formIsValid = false;\r\n        errors[\"name\"] = \"name is not valid\";\r\n      }\r\n }  \r\n this.setState({errors: errors});\r\n return formIsValid;\r\n};\r\n\r\n\r\n Register = (e) => {\r\n  e.preventDefault();\r\n  if(this.handleValidation()){\r\n  Axios({\r\n    method: \"POST\",\r\n    data: {\r\n      name: this.state.name,\r\n      password: this.state.password,\r\n    },\r\n    withCredentials: true,\r\n    url: \"http://localhost:4000/register\",\r\n  }).then((res) =>{\r\n    console.log(res)\r\n    if(res.status === 200){\r\n      this.props.history.push(\"/login\");\r\n    }\r\n    else{\r\n      swal(\"There is an error\")\r\n    }\r\n    this.setState({data: res.data})\r\n\r\n   // this.handleResponse();\r\n\r\n  });\r\n  \r\n}else{\r\n  swal(\"Oops!\",\"Form has errors.\")\r\n}\r\n };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div >\r\n        <div className=\"base-container\">\r\n          <div className=\"header\"><b>Register</b></div>\r\n          <div className=\"content\">\r\n            \r\n            <form >\r\n            <div className=\"form\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Username</label>\r\n                <input \r\n                value={this.state.value}\r\n                  type=\"name\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  placeholder=\"Enter name\"\r\n                  onChange={this.handleChange.bind(this)}                  />\r\n              <span style={{color: \"red\"}}>{this.state.errors[\"name\"]}</span>\r\n\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                   type=\"password\"\r\n                   className=\"form-control\"\r\n                   name=\"password\"\r\n                   placeholder=\"Password\"\r\n                   value={this.state.value}\r\n                   onChange={this.handleChange.bind(this)\r\n                   }                  />\r\n                  <span style={{color: \"red\"}}>{this.state.errors[\"password\"]}</span>\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"after\">\r\n              <p className=\"sign-up\">\r\n                Already have an Account?\r\n                  <Link to=\"/login\">Login</Link>\r\n              </p>\r\n            </div>\r\n          <div className=\"footer\">\r\n            <button type=\"submit\" onClick={this.Register.bind(this)} className=\"btn btn-primary\">\r\n              Register\r\n            </button>\r\n          </div>\r\n     </form>\r\n     </div>\r\n     </div>\r\n</div>\r\n )}};\r\n   \r\n\r\n"]},"metadata":{},"sourceType":"module"}